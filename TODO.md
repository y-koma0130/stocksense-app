# TODO

## Phase 1: 法的整備 + フィードバック基盤 (最優先)

### 法的ページの作成
- [x] LP (ランディングページ) の作成
- [x] 利用規約ページの作成
- [x] プライバシーポリシーページの作成
- [ ] お問い合わせページの作成

### フッターの実装
- [x] フッターコンポーネントの作成
- [x] 法的ページへのリンク配置
- [x] レスポンシブ対応

### ユーザーフィードバック機能
- [x] GitHub Issues自動登録機能の実装
- [x] フィードバック送信UIの作成 (アカウントメニューに統合)
- [x] フィードバック送信APIの実装 (GitHub API連携)
- [x] フィードバック種別の追加 (バグ報告、機能リクエスト、UI改善、その他)

---

## Phase 2: 権限・ロール基盤の整備 (課金準備)

### データベーススキーマ
- [ ] `user_plan` カラムの追加 (Free/Premium enum)
- [ ] プラン情報を管理するテーブル設計
- [ ] マイグレーション作成

### 権限システムの実装
- [ ] ユーザープラン取得の共通関数
- [ ] Feature Flag システムの実装
- [ ] 使用制限チェック機能 (通知数、分析回数など)
- [ ] プラン別機能制限の定義

### 管理画面 (将来的に)
- [ ] ユーザープラン管理画面
- [ ] 使用状況ダッシュボード

---

## Phase 3: UI/UX改善 (初心者・中級者向け)

### 指標の説明・ヘルプ
- [ ] PER, PBR, ROE 等の指標説明ツールチップ
- [ ] スコアリングロジックの説明ページ
- [ ] 各指標の「良い値」「悪い値」の目安表示

### オンボーディング
- [ ] 初回ユーザー向けチュートリアル
- [ ] 機能紹介ツアー (optional)
- [ ] ヘルプ/FAQページ

### デザイン改善
- [ ] カード・テーブルのビジュアル改善
- [ ] レスポンシブデザインの最適化
- [ ] ローディング状態の改善

---

## Phase 4: LLMマーケット分析 (コスト検証必須)

### 基本的なマーケット分析 (無料枠)
- [ ] LLM API (OpenAI/Anthropic) の選定とコスト検証
- [ ] 日経平均のトレンド分析
- [ ] セクター別トレンド分析
- [ ] マーケットセンチメント分析
- [ ] キャッシュ戦略の実装 (コスト削減)

### 分析結果の表示
- [ ] マーケット分析ページの作成
- [ ] 分析結果のカード表示
- [ ] 更新頻度の表示 (1日1回など)

### コスト管理
- [ ] LLM使用量のモニタリング
- [ ] レート制限の実装
- [ ] 無料ユーザーの分析回数制限

### 詳細分析 (Premium機能として準備)
- [ ] ユーザー指定銘柄のLLM深掘り分析
- [ ] カスタム分析プロンプトの実装

---

## Phase 5: 通知フィルタリング (Premium準備)

### フィルタリング機能
- [ ] 市場別フィルター (東証プライム、スタンダードなど)
- [ ] 業種別フィルター
- [ ] 価格帯フィルター
- [ ] スコア範囲フィルター

### 通知設定UI
- [ ] フィルター設定画面の作成
- [ ] 保存した設定の管理
- [ ] 通知プレビュー機能

### バックエンド
- [ ] フィルター設定の保存 (DB)
- [ ] フィルター適用ロジックの実装
- [ ] Inngest job でのフィルタリング処理

---

## 将来的なタスク (Phase 6以降)

### 課金機能の実装
- [ ] Stripe連携
- [ ] サブスクリプションプランの実装
- [ ] 決済フローの実装
- [ ] 課金管理画面

### その他の機能拡張
- [ ] ポートフォリオ管理機能
- [ ] 銘柄比較機能
- [ ] アラート機能の拡張
